<!-- Copyright (c) 2023 Stefan Grimm. All rights reserved.
     Licensed under the GPL. See LICENSE file in the project root for full license information.
-->

<h1>Isocal Phantom</h1>

<mat-sidenav-container>
  <mat-sidenav *ngIf="!context.sideNavOpen"
               opened
               mode="side"
               position="end">
    <div>
      <button mat-button (click)="context.sideNavOpen = true"><</button>
    </div>
    <div align="center">
      <button mat-icon-button (click)="context.visiblitiesOpen = !context.visiblitiesOpen"><mat-icon>more_vert</mat-icon></button>
    </div>
  </mat-sidenav>
  <mat-sidenav *ngIf="context.sideNavOpen"
               opened
               mode="side"
               position="end">
    <div align="left">
      <button mat-icon-button (click)="context.visiblitiesOpen = !context.visiblitiesOpen"><mat-icon>more_vert</mat-icon></button>
      <button mat-button (click)="context.sideNavOpen = false">></button>
    </div>

    <table>
      <tr>
        <td>
          X1/X2:
          <br />
          <mat-slider min="0"
                      max="20"
                      step="1"
                      [thumbLabel]="false"
                      [value]="x1"
                      (input)="onX1Changed($event)">
          </mat-slider>
          {{x1}}
          <br />
          <mat-slider min="0"
                      max="20"
                      step="1"
                      [thumbLabel]="false"
                      [value]="x2"
                      (input)="onX2Changed($event)">
          </mat-slider>
          {{x2}}
          <br />
          Y1/Y2:
          <br />
          <mat-slider min="0"
                      max="20"
                      step="1"
                      [thumbLabel]="false"
                      [value]="y1"
                      (input)="onY1Changed($event)">
          </mat-slider>
          {{y1}}
          <br />
          <mat-slider min="0"
                      max="20"
                      step="1"
                      [thumbLabel]="false"
                      [value]="y2"
                      (input)="onY2Changed($event)">
          </mat-slider>
          {{y2}}
          <br />
          Coll Rtn:
          <br />
          <mat-slider min="0"
                      max="360"
                      step="1"
                      [thumbLabel]="false"
                      [value]="collRtn"
                      (input)="onCollRtnChanged($event)">
          </mat-slider>
          {{collRtn}}
          <br />
          Gantry Rtn:
          <br />
          <mat-slider min="0"
                      max="360"
                      step="1"
                      [thumbLabel]="false"
                      [value]="gantryRtn"
                      (input)="onGantryRtnChanged($event)">
          </mat-slider>
          {{gantryRtn}}
          <br />
          Couch Lng:
          <br />
          <mat-slider min="-100"
                      max="15"
                      step="1"
                      [thumbLabel]="false"
                      [value]="couchLng"
                      (input)="onCouchLngChanged($event)">
          </mat-slider>
          {{couchLng}}
        </td>
      </tr>
    </table>

  </mat-sidenav>
  <mat-sidenav-content>
    <mat-sidenav-container hasBackdrop="false">
      <mat-sidenav *ngIf="context.visiblitiesOpen"
                   opened
                   mode="over"
                   position="end">
        <div>
          <mat-checkbox [checked]="context.showAsXray"
                        (change)="onXrayChecked($event.checked)">
            X-Ray
          </mat-checkbox>
        </div>
      </mat-sidenav>
      <mat-sidenav-content>

        <div class="stack-horz">
          <div class="content">
            <canvas #rendererCanvas
                    id="renderCanvas"
                    width="500"
                    height="500">
            </canvas>
          </div>
        </div>

      </mat-sidenav-content>
    </mat-sidenav-container>

  </mat-sidenav-content>
</mat-sidenav-container>
